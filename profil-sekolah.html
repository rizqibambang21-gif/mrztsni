<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profil Sekolah</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link rel="stylesheet" href="profil-sekolah.css">
  <link rel="stylesheet" href="navbar.css">
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <link rel='stylesheet' href='animations.css'>
</head>

<body>

  <!-- Navbar (Generated by navbar.js) -->
  <script src="navbar.js"></script>

  <section class="hero">
    <h1>Profil Sekolah</h1>
    <p>Mengenal lebih dekat tentang MI/MTs/SMK IT IQRO.</p>
  </section>

  <section class="additional-info">
    <div class="info-section">
      <h2>Sejarah Sekolah</h2>
      <p>Didirikan pada tahun 2020, MI/MTs/SMK IT IQRO berkomitmen untuk memberikan pendidikan berbasis teknologi yang
        mengintegrasikan kurikulum nasional dengan keterampilan IT masa depan.</p>
    </div>
    <div class="info-section">
      <h2>Prestasi</h2>
      <p>Siswa kami telah meraih berbagai prestasi di bidang akademik, olahraga, dan teknologi, termasuk juara kompetisi
        programming dan olimpiade sains.</p>
    </div>
  </section>

  <section class="content-container">

    <div class="content-card">
      <div class="card-icon">
        <i class="fa-solid fa-eye"></i>
      </div>
      <h2>Visi</h2>
      <p>Menjadi sekolah unggul yang membentuk generasi berprestasi, berkarakter, dan siap menghadapi masa depan dengan
        integrasi teknologi informasi.</p>
    </div>

    <div class="content-card">
      <div class="card-icon">
        <i class="fa-solid fa-bullseye"></i>
      </div>
      <h2>Misi</h2>
      <p>Memberikan pendidikan berkualitas tinggi, menciptakan lingkungan belajar yang nyaman dan inovatif, serta
        membangun karakter siswa melalui pendidikan karakter dan keterampilan IT terkini.</p>
    </div>

    <div class="content-card">
      <div class="card-icon">
        <i class="fa-solid fa-tools"></i>
      </div>
      <h2>Fasilitas</h2>
      <p>Laboratorium sains, ruang komputer modern, perpustakaan digital, lapangan olahraga, ruang multimedia
        interaktif, dan ruang kelas dengan fasilitas teknologi terkini.</p>
    </div>

  </section>

  <div id="auth-modal" class="custom-modal-overlay">
    <div class="custom-modal-content">
      <div id="modal-icon" class="modal-icon error-icon"><i class="fa-solid fa-lock"></i></div>
      <h2 id="modal-title">Akses Dibatasi</h2>
      <p id="modal-message">Akses ke menu ini membutuhkan akun. Silakan LOGIN atau DAFTAR terlebih dahulu!</p>
      <button id="modal-redirect-btn" class="modal-redirect-btn">OK, Ke Halaman Login</button>
    </div>
  </div>
  <script>
    // --- Firebase Init ---
    const firebaseConfig = {
      apiKey: "AIzaSyBaFa2_d4almWd1wBlmPdzv9aGOa0e0m3A",
      authDomain: "daftarhadit-dfa3a.firebaseapp.com",
      projectId: "daftarhadit-dfa3a",
      storageBucket: "daftarhadit-dfa3a.firebasestorage.app",
      messagingSenderId: "438675023798",
      appId: "1:438675023798:web:3afc376cd435f0154fc317",
      measurementId: "G-XCNLPJSS57"
    };
    if (!firebase.apps.length) {
      firebase.initializeApp(firebaseConfig);
    }
    const auth = firebase.auth();

    // --- OPTIMASI RESPONSIVITAS NAVBAR ---
    const isCachedLogin = localStorage.getItem('isLoggedIn') === 'true';
    if (isCachedLogin) {
      const authLink = document.getElementById('nav-auth-link');
      if (authLink) {
        authLink.textContent = "Logout";
        authLink.href = "#";
      }
    }

    // Modifikasi Auth Listener
    auth.onAuthStateChanged((user) => {
      const authLink = document.getElementById('nav-auth-link');
      const navKelasLink = document.getElementById('nav-kelas-link');

      if (user) {
        // LOGIN
        authLink.textContent = "Logout";
        authLink.href = "#";
        authLink.onclick = (e) => { e.preventDefault(); logout(); };

        if (navKelasLink) {
          navKelasLink.href = "kelas.html";
          navKelasLink.onclick = null;
        }
      } else {
        // BELUM LOGIN
        authLink.textContent = "Login";
        authLink.href = "index.html";
        authLink.onclick = null;

        if (navKelasLink) {
          navKelasLink.href = "#";
          navKelasLink.onclick = (e) => {
            tampilkanPeringatanLogin(e);
          };
        }
      }
    });

    function logout() {
      auth.signOut().then(() => {
        localStorage.removeItem('isLoggedIn');
        window.location.href = "home.html";
      });
    }

    const authModal = document.getElementById('auth-modal');
    const modalRedirectBtn = document.getElementById('modal-redirect-btn');

    function tampilkanPeringatanLogin(event) {
      if (event) event.preventDefault();
      authModal.style.display = 'flex';
    }

    modalRedirectBtn.addEventListener('click', () => {
      authModal.style.display = 'none';
      window.location.href = 'index.html';
    });
    // Removed unused masukKelasLinks logic
  </script>

</body>

</html>